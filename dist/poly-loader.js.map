{"version":3,"file":"poly-loader.js","sources":["../src/internals/load-script.js","../src/poly-loader.js"],"sourcesContent":["'use strict';\nconst loadScript = src => {\n  return new Promise((resolve, reject) => {\n    let script = document.createElement('script');\n    script.src = src;\n    script.onload = result => {\n      resolve(result);\n    }\n    script.onerror = error => {\n      reject(error);\n    }\n    document.body.appendChild(script);\n  });\n}\nexport default loadScript;\n","'use strict';\r\nimport loadScript from './internals/load-script';\r\n\r\nconst bowerMinUrl = (name, main, root) => {\r\n  const url = main ? `${name}/${main}` : `${name}/${name}`;\r\n  return `${root}/${url}.min.js`;\r\n}\r\n\r\nconst ensureArray = array => {\r\n  if (Array.isArray(array)) {\r\n    return array;\r\n  }\r\n  return [...array];\r\n}\r\n\r\n/**\r\n * @module polyLoader\r\n * @param {string} name package name (folder)\r\n * @param {string} main script to use\r\n * @param {string} root location of your components\r\n */\r\nexport default (fills, root='bower_components') => {\r\n  return new Promise((resolve, reject) => {\r\n    fills = ensureArray(fills);\r\n    fills = fills.map(fill => {\r\n      let name;\r\n      let main = null;\r\n      if (typeof(fill) === 'object') {\r\n        name = fill.name;\r\n        main = fill.main;\r\n      } else {\r\n        name = fill;\r\n      }\r\n      if (name === 'shadycss' && !main) {\r\n        main = 'custom-style-interface';\r\n      }\r\n      return loadScript(bowerMinUrl(name, main, root));\r\n    });\r\n    Promise.all(fills).then(() => resolve()).catch(error => reject(error));\r\n  });\r\n}\r\n"],"names":["loadScript","src","Promise","resolve","reject","script","document","createElement","onload","result","onerror","error","body","appendChild","bowerMinUrl","name","main","root","url","ensureArray","array","Array","isArray","fills","map","fill","all","then","catch"],"mappings":"AACA,MAAMA,aAAaC,OAAO;SACjB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QAClCC,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAb;WACON,GAAP,GAAaA,GAAb;WACOO,MAAP,GAAgBC,UAAU;cAChBA,MAAR;KADF;WAGOC,OAAP,GAAiBC,SAAS;aACjBA,KAAP;KADF;aAGSC,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;GATK,CAAP;CADF,CAaA;;ACXA,MAAMS,cAAc,CAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,KAAsB;QAClCC,MAAMF,OAAQ,GAAED,IAAK,IAAGC,IAAK,EAAvB,GAA4B,GAAED,IAAK,IAAGA,IAAK,EAAvD;SACQ,GAAEE,IAAK,IAAGC,GAAI,SAAtB;CAFF;AAKA,MAAMC,cAAcC,SAAS;MACvBC,MAAMC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;WACjBA,KAAP;;SAEK,CAAC,GAAGA,KAAJ,CAAP;CAJF;AAaA,kBAAe,CAACG,KAAD,EAAQN,OAAK,kBAAb,KAAoC;SAC1C,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;YAC9Be,YAAYI,KAAZ,CAAR;YACQA,MAAMC,GAAN,CAAUC,QAAQ;UACpBV,IAAJ;UACIC,OAAO,IAAX;UACI,OAAOS,IAAP,KAAiB,QAArB,EAA+B;eACtBA,KAAKV,IAAZ;eACOU,KAAKT,IAAZ;OAFF,MAGO;eACES,IAAP;;UAEEV,SAAS,UAAT,IAAuB,CAACC,IAA5B,EAAkC;eACzB,wBAAP;;aAEKhB,WAAWc,YAAYC,IAAZ,EAAkBC,IAAlB,EAAwBC,IAAxB,CAAX,CAAP;KAZM,CAAR;YAcQS,GAAR,CAAYH,KAAZ,EAAmBI,IAAnB,CAAwB,MAAMxB,SAA9B,EAAyCyB,KAAzC,CAA+CjB,SAASP,OAAOO,KAAP,CAAxD;GAhBK,CAAP;CADF;;"}