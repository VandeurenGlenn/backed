{"version":3,"file":"poly-loader.js","sources":["../src/internals/load-script.js","../src/poly-loader.js"],"sourcesContent":["'use strict';\nconst loadScript = src => {\n  return new Promise((resolve, reject) => {\n    let script = document.createElement('script');\n    script.src = src;\n    script.onload = result => {\n      resolve(result);\n    }\n    script.onerror = error => {\n      reject(error);\n    }\n    document.body.appendChild(script);\n  });\n}\nexport default loadScript;\n","'use strict';\nimport loadScript from './internals/load-script';\n\nconst bowerMinUrl = (name, main, root) => {\n  const url = main ? `${name}/${main}` : `${name}/${name}`;\n  return `${root}/${url}.min.js`;\n}\n\nconst ensureArray = array => {\n  if (Array.isArray(array)) {\n    return array;\n  }\n  return [...array];\n}\n\n/**\n * @module polyLoader\n * @param {string} name package name (folder)\n * @param {string} main script to use\n * @param {string} root location of your components\n */\nexport default (fills, root='bower_components') => {\n  return new Promise((resolve, reject) => {\n    fills = ensureArray(fills);\n    fills = fills.map(fill => {\n      if (fill.name === 'shadycss' && !fill.main) {\n        fill.main = 'custom-style-interface';\n      }\n      return loadScript(bowerMinUrl(fill.name, fill.main, root));\n    });\n    promises.all(fills).then(() => {\n      resolve();\n    }).catch(error => reject(error));\n  });\n}\n"],"names":["loadScript","src","Promise","resolve","reject","script","document","createElement","onload","result","onerror","error","body","appendChild","bowerMinUrl","name","main","root","url","ensureArray","array","Array","isArray","fills","map","fill","all","then","catch"],"mappings":";;;AACA,MAAMA,aAAaC,OAAO;SACjB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QAClCC,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAb;WACON,GAAP,GAAaA,GAAb;WACOO,MAAP,GAAgBC,UAAU;cAChBA,MAAR;KADF;WAGOC,OAAP,GAAiBC,SAAS;aACjBA,KAAP;KADF;aAGSC,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;GATK,CAAP;CADF,CAaA;;ACXA,MAAMS,cAAc,CAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,KAAsB;QAClCC,MAAMF,OAAQ,GAAED,IAAK,IAAGC,IAAK,EAAvB,GAA4B,GAAED,IAAK,IAAGA,IAAK,EAAvD;SACQ,GAAEE,IAAK,IAAGC,GAAI,SAAtB;CAFF;AAKA,MAAMC,cAAcC,SAAS;MACvBC,MAAMC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;WACjBA,KAAP;;SAEK,CAAC,GAAGA,KAAJ,CAAP;CAJF;AAaA,kBAAe,CAACG,KAAD,EAAQN,OAAK,kBAAb,KAAoC;SAC1C,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;YAC9Be,YAAYI,KAAZ,CAAR;YACQA,MAAMC,GAAN,CAAUC,QAAQ;UACpBA,KAAKV,IAAL,KAAc,UAAd,IAA4B,CAACU,KAAKT,IAAtC,EAA4C;aACrCA,IAAL,GAAY,wBAAZ;;aAEKhB,WAAWc,YAAYW,KAAKV,IAAjB,EAAuBU,KAAKT,IAA5B,EAAkCC,IAAlC,CAAX,CAAP;KAJM,CAAR;aAMSS,GAAT,CAAaH,KAAb,EAAoBI,IAApB,CAAyB,MAAM;;KAA/B,EAEGC,KAFH,CAESjB,SAASP,OAAOO,KAAP,CAFlB;GARK,CAAP;CADF;;;;"}